<html xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<cc:interface>
    <cc:attribute name="messages" required="true"/>
    <cc:attribute name="messageView" required="true"/>
    <cc:attribute name="header" required="true"/>
</cc:interface>
<cc:implementation>

    <p:dataTable var="crashMessage"
                 value="#{cc.attrs.messages}"
                 paginator="true" rows="10"
                 paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="5,10,15">
        <f:facet name="header">
            #{cc.attrs.header}
        </f:facet>

        <p:column headerText="#{msgs['common.label.id']}">
            <h:link outcome="#{cc.attrs.messageView}" value="#{crashMessage.id}">
                <f:param name="id" value="#{crashMessage.id}"/>
            </h:link>
        </p:column>
        <p:column headerText="#{msgs['message.label.time']}">
            <h:link outcome="#{cc.attrs.messageView}">
                <h:outputText value="#{crashMessage.timestamp}" converter="TimestampConverter"/>
                <f:param name="id" value="#{crashMessage.id}"/>
            </h:link>
        </p:column>
        <p:column headerText="#{msgs['message.label.uploadedBy']}">
            <h:link outcome="#{cc.attrs.messageView}" value="#{crashMessage.deviceId}">
                <f:param name="id" value="#{crashMessage.id}"/>
            </h:link>
        </p:column>

    </p:dataTable>
</cc:implementation>
</html>
